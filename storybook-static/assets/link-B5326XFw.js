import{a as fe}from"./_commonjsHelpers-C4iS2aBk.js";import{_ as ee}from"./_interop_require_default-DgqNHo5w.js";import{_ as ie}from"./utils-D5IJ2A55.js";import{r as te}from"./index-DPzuYzxM.js";import{n as se,d as de,r as pe,a as _e,b as he}from"./router-Dr3MF1HQ.js";import{r as Le}from"./router-context-1OOWBe6R.js";import{u as me}from"./use-intersection-BigaMEX4.js";var I={exports:{}},h={};Object.defineProperty(h,"__esModule",{value:!0});h.GlobalLayoutRouterContext=h.LayoutRouterContext=h.AppRouterContext=void 0;var ve=ee.default,K=ve(te);const ye=K.default.createContext(null);h.AppRouterContext=ye;const Pe=K.default.createContext(null);h.LayoutRouterContext=Pe;const Ce=K.default.createContext(null);h.GlobalLayoutRouterContext=Ce;var q={exports:{}},N={exports:{}},Z;function Re(){return Z||(Z=1,function(R,e){var m={};Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeLocalePath=void 0;const b=(v,o)=>m.__NEXT_I18N_SUPPORT?se.normalizeLocalePath(v,o):{pathname:v,detectedLocale:void 0};e.normalizeLocalePath=b,(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),R.exports=e.default)}(N,N.exports)),N.exports}(function(R,e){var m={};Object.defineProperty(e,"__esModule",{value:!0}),e.getDomainLocale=v;const b=m.__NEXT_ROUTER_BASEPATH||"";function v(o,s,O,k){if(m.__NEXT_I18N_SUPPORT){const x=Re().normalizeLocalePath,D=de.detectDomainLocale,E=s||x(o,O).detectedLocale,y=D(k,void 0,E);if(y){const A=`http${y.http?"":"s"}://`,M=E===y.defaultLocale?"":`/${E}`;return`${A}${y.domain}${b}${M}${o}`}return!1}else return!1}(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),R.exports=e.default)})(q,q.exports);var be=q.exports;(function(R,e){var m={};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var b=ee.default,v=ie.default,o=b(te),s=pe,O=_e,k=Le,x=h,D=me,E=be,y=he;const A=typeof o.default.useTransition<"u",M={};function $(r,u,p,l){if(typeof window>"u"||!r||!s.isLocalURL(u))return;Promise.resolve(r.prefetch(u,p,l)).catch(P=>{});const _=l&&typeof l.locale<"u"?l.locale:r&&r.locale;M[u+"%"+p+(_?"%"+_:"")]=!0}function oe(r){const{target:u}=r.currentTarget;return u&&u!=="_self"||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey||r.nativeEvent&&r.nativeEvent.which===2}function ae(r,u,p,l,_,P,z,U,T,S){const{nodeName:w}=r.currentTarget;if(w.toUpperCase()==="A"&&(oe(r)||!s.isLocalURL(p)))return;r.preventDefault();const d=()=>{"beforePopState"in u?u[_?"replace":"push"](p,l,{shallow:P,locale:U,scroll:z}):u[_?"replace":"push"](p,{forceOptimisticNavigation:!S})};T?T(d):d()}var re=o.default.forwardRef(function(u,p){let l;const{href:_,as:P,children:z,prefetch:U,passHref:T,replace:S,shallow:w,scroll:X,locale:d,onClick:B,onMouseEnter:G,onTouchStart:V,legacyBehavior:i=!m.__NEXT_NEW_LINK_BEHAVIOR}=u,ne=v(u,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);l=z,i&&(typeof l=="string"||typeof l=="number")&&(l=o.default.createElement("a",null,l));const g=U!==!1,[,le]=A?o.default.useTransition():[];let a=o.default.useContext(k.RouterContext);const j=o.default.useContext(x.AppRouterContext);j&&(a=j);const{href:c,as:f}=o.default.useMemo(()=>{const[t,L]=s.resolveHref(a,_,!0);return{href:t,as:P?s.resolveHref(a,P):L||t}},[a,_,P]),F=o.default.useRef(c),W=o.default.useRef(f);let n;i&&(n=o.default.Children.only(l));const C=i?n&&typeof n=="object"&&n.ref:p,[J,Q,Y]=D.useIntersection({rootMargin:"200px"}),ue=o.default.useCallback(t=>{(W.current!==f||F.current!==c)&&(Y(),W.current=f,F.current=c),J(t),C&&(typeof C=="function"?C(t):typeof C=="object"&&(C.current=t))},[f,C,c,Y,J]);o.default.useEffect(()=>{const t=Q&&g&&s.isLocalURL(c),L=typeof d<"u"?d:a&&a.locale,ce=M[c+"%"+f+(L?"%"+L:"")];t&&!ce&&$(a,c,f,{locale:L})},[f,c,Q,d,g,a]);const H={ref:ue,onClick:t=>{!i&&typeof B=="function"&&B(t),i&&n.props&&typeof n.props.onClick=="function"&&n.props.onClick(t),t.defaultPrevented||ae(t,a,c,f,S,w,X,d,j?le:void 0,g)},onMouseEnter:t=>{!i&&typeof G=="function"&&G(t),i&&n.props&&typeof n.props.onMouseEnter=="function"&&n.props.onMouseEnter(t),!g&&j||s.isLocalURL(c)&&$(a,c,f,{priority:!0})},onTouchStart:t=>{!i&&typeof V=="function"&&V(t),i&&n.props&&typeof n.props.onTouchStart=="function"&&n.props.onTouchStart(t),!g&&j||s.isLocalURL(c)&&$(a,c,f,{priority:!0})}};if(!i||T||n.type==="a"&&!("href"in n.props)){const t=typeof d<"u"?d:a&&a.locale,L=a&&a.isLocaleDomain&&E.getDomainLocale(f,t,a.locales,a.domainLocales);H.href=L||y.addBasePath(O.addLocale(f,t,a&&a.defaultLocale))}return i?o.default.cloneElement(n,H):o.default.createElement("a",Object.assign({},ne,H),l)});e.default=re,(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),R.exports=e.default)})(I,I.exports);var Ee=I.exports,ge=Ee;const Ae=fe(ge);export{Ae as L};
