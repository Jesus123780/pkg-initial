import{j as M,a as J}from"./jsx-runtime-DI8_P1Ft.js";import{P as c}from"./index-B3IC6ylx.js";import{R as K,r}from"./index-DPzuYzxM.js";import"./index-RGaBZlDs.js";const Q="_column_17ggp_1",P={"column-container":"_column-container_17ggp_1","no-select":"_no-select_17ggp_19","swiper-button-next":"_swiper-button-next_17ggp_39","swiper-button-prev":"_swiper-button-prev_17ggp_67",column:Q,"column-controler":"_column-controler_17ggp_121","column-controler__icon":"_column-controler__icon_17ggp_153"},_=({lastMinWidth:u="440px",padding:L="15px",height:B="",backgroundColor:F,initialDividerPosition:X=null,...a})=>{const j=r.useRef(),w={__0:60,__1:40},[d,z]=r.useState([]),[i,x]=r.useState(w),A=e=>{const t={};for(let o=0;o<e;o++)t[`__${o}`]=100/e;return t};r.useEffect(()=>{var e;if(a.children){const t=((e=a==null?void 0:a.children)==null?void 0:e.map((o,n)=>`__${n}`))??[];z(t||[]),x(X??A((d==null?void 0:d.length)??2)??w)}},[u]);const m=r.useRef(!1),v=d,p=[],[y,U]=r.useState(0),G=(e,t,o)=>{U(o)},R=r.useCallback(e=>{m.current=!0},[]),H=e=>{const t=Object.values(e).reduce((n,s)=>n+s),o={...i};if(t&&!Number.isNaN(t)){const n=100/t;Object.keys(e).forEach(s=>{o[s]=e[s]*n})}else Object.keys(i).forEach(n=>{o[n]=i[n]});x(o)},O=e=>{if(!m.current)return;const t=e.touches?e.touches[0].clientX:e.clientX;requestAnimationFrame(()=>{var E,S;const n=j.current.getBoundingClientRect(),s=(E=p[y])==null?void 0:E.getBoundingClientRect();s&&p[y]&&p[y].classList.add("no-select");const g=s==null?void 0:s.left,C=window.innerWidth,k=n==null?void 0:n.width;if(!g||!k)return;const D=440,q=Math.ceil(C/D);100/Object.keys(i).length,q<Object.keys(i).length&&100/Object.keys(i).length;let N=g+D,V=C-D;q===Object.keys(i).length&&(N=g,V=C);const W=(Math.max(N,Math.min(V,t))-g)/k*100;if(i){const T=(S=Object.values(i))==null?void 0:S.reduce((l,h)=>l+h),$=T-W,f={};Object.keys(i).forEach((l,h)=>{h===0?f[l]=W:h===Object.keys(i).length-1?f[l]=$:f[l]=i[l]/T*$}),H(f)}})},b=r.useCallback(e=>{m.current&&(m.current=!1)},[]);return M("div",{children:M("div",{className:P["column-container"],onMouseLeave:b,onMouseMove:O,onMouseUp:b,onTouchEnd:b,onTouchMove:O,ref:j,style:{height:B,padding:L,backgroundColor:F||"#f4f5f7"},children:v.map((e,t)=>{const o=v.indexOf(e),n=v[o+1];return J("div",{className:P.column,ref:s=>p[t]=s,style:{width:`${i[e]}%`,minWidth:`${u}`,height:"100%"},children:[a.children[t],n!==void 0&&M("div",{className:P["column-controler"],onMouseDown:R,onMouseDownCapture:()=>G(e,n,t),onTouchStart:R,style:{right:"-2px",borderColor:"red"},children:!1})]},t)})})})};_.propTypes={backgroundColor:c.string,height:c.string,initialDividerPosition:c.func,lastMinWidth:c.string,padding:c.string};const I=K.memo(_);try{_.displayName="ResisesColumnsMemo",_.__docgenInfo={description:"",displayName:"ResisesColumnsMemo",props:{lastMinWidth:{defaultValue:{value:"440px"},description:"",name:"lastMinWidth",required:!1,type:{name:"string"}},padding:{defaultValue:{value:"15px"},description:"",name:"padding",required:!1,type:{name:"string"}},height:{defaultValue:{value:""},description:"",name:"height",required:!1,type:{name:"string"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!0,type:{name:"any"}},initialDividerPosition:{defaultValue:{value:"null"},description:"",name:"initialDividerPosition",required:!1,type:{name:"null"}}}}}catch{}try{I.displayName="ResisesColumns",I.__docgenInfo={description:"",displayName:"ResisesColumns",props:{lastMinWidth:{defaultValue:{value:"440px"},description:"",name:"lastMinWidth",required:!1,type:{name:"string"}},padding:{defaultValue:{value:"15px"},description:"",name:"padding",required:!1,type:{name:"string"}},height:{defaultValue:{value:""},description:"",name:"height",required:!1,type:{name:"string"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!0,type:{name:"any"}},initialDividerPosition:{defaultValue:{value:"null"},description:"",name:"initialDividerPosition",required:!1,type:{name:"null"}}}}}catch{}export{I as R};
